<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React + TS</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
</head>

<body>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #adobe-dc-view {
      width: 100%;
      height: 100%;
    }
  </style>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
  <!-- <script type="text/javascript" src="https://acrobatservices.adobe.com/view-sdk/viewer.js"></script> -->

  <script type="text/javascript">
    // 38bb15b9b72f4171b337bf0739f078c4

    // Add ?page=4 to the end of the URL
    // const urlToPDF =
    //   "http://localhost:5200/test-pdf.pdf";
    // const clientId = "38bb15b9b72f4171b337bf0739f078c4";
    // const viewerOptions = {
    //   embedMode: "FULL_WINDOW",
    //   defaultViewMode: "FIT_PAGE",
    //   showDownloadPDF: false,
    //   showPrintPDF: false,
    //   showLeftHandPanel: true,
    //   showAnnotationTools: false
    // };

    // function fetchPDF(urlToPDF) {
    //   return new Promise((resolve) => {
    //     fetch(urlToPDF)
    //       .then((resolve) => resolve.blob())
    //       .then((blob) => {
    //         resolve(blob.arrayBuffer());
    //       });
    //   });
    // }

    // function goToPage(previewFilePromise, pageNum) {
    //   previewFilePromise.then((adobeViewer) => {
    //     adobeViewer.getAPIs().then((apis) => {
    //       // Go to the page. Page numbers are 1 based.
    //       apis.gotoLocation(parseInt(pageNum));
    //     });
    //   });
    // }

    // function processEvent(event, previewFilePromise) {
    //   if (event.type == "PDF_VIEWER_OPEN") {
    //     // Get the page parameter from the URL
    //     const queryString = window.location.search;
    //     const urlParams = new URLSearchParams(queryString);
    //     const pageNum = urlParams.get("page");
    //     console.log("pageNum", pageNum)
    //     // Go to the page number specified in the URL
    //     goToPage(previewFilePromise, pageNum);
    //   }
    // }

    // document.addEventListener("adobe_dc_view_sdk.ready", function () {
    //   // Create embedded view
    //   var adobeDCView = new AdobeDC.View({
    //     clientId: clientId,
    //     divId: "adobe-dc-view"
    //   });
    //   // Show the file
    //   var previewFilePromise = adobeDCView.previewFile(
    //     {
    //       content: { promise: fetchPDF(urlToPDF) },
    //       metaData: { fileName: urlToPDF.split("/").slice(-1)[0] }
    //     },
    //     viewerOptions
    //   );
    //   // create object to set events that we want to listen for
    //   var eventOptions = {
    //     listenOn: [AdobeDC.View.Enum.Events.PDF_VIEWER_OPEN],
    //     enableFilePreviewEvents: true
    //   };
    //   // register the event callback
    //   adobeDCView.registerCallback(
    //     AdobeDC.View.Enum.CallbackType.EVENT_LISTENER,
    //     function (event) {
    //       processEvent(event, previewFilePromise);
    //     },
    //     eventOptions
    //   );
    // });

    // // Helper Function: Add arrayBuffer if necessary i.e. Safari
    // (function () {
    //   if (Blob.arrayBuffer != "function") {
    //     Blob.prototype.arrayBuffer = myArrayBuffer;
    //   }

    //   function myArrayBuffer() {
    //     return new Promise((resolve) => {
    //       let fileReader = new FileReader();
    //       fileReader.onload = () => {
    //         resolve(fileReader.result);
    //       };
    //       fileReader.readAsArrayBuffer(this);
    //     });
    //   }
    // })();


  </script>
</body>

</html>